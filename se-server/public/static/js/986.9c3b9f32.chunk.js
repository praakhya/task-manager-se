"use strict";(self.webpackChunkse_project=self.webpackChunkse_project||[]).push([[986],{1986:function(e,n,o){o.r(n);o(2791);var t=o(7666),r=o(184);n.default=function(e){return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{children:"Recently Deleted Notes"}),(0,r.jsx)("div",{children:(0,r.jsx)(t.Z,{favourites:!1})})]})}},7170:function(e,n,o){var t=o(9439),r=o(2791),s=o(3360),i=o(2477),a=o(6654),c=o(8458),l=o(1243),d=o(184),u="/api";n.Z=function(e){var n=(0,r.useState)(""),o=(0,t.Z)(n,2),h=o[0],f=o[1],x=(0,r.useState)(""),v=(0,t.Z)(x,2),p=v[0],j=v[1],Z=(0,r.useState)(!1),g=(0,t.Z)(Z,2),C=g[0],m=g[1],k=(0,r.useState)(""),y=(0,t.Z)(k,2),T=y[0],I=y[1],w=(0,r.useContext)(c.Z).userInfo;(0,r.useEffect)((function(){"edit"==e.mode&&(f(e.note.title),j(e.note.description))}),[]);var b=function(e){if(e&&e.data){if("error"==e.data.status)return console.log(C),I("Error in Saving data!"),void m(!0);m(!1)}};return(0,d.jsx)("div",{children:(0,d.jsxs)(i.Z,{show:!0,onHide:e.handleClose,children:[(0,d.jsx)(i.Z.Header,{closeButton:!0,children:(0,d.jsx)(i.Z.Title,{children:"Add Note"})}),(0,d.jsx)(i.Z.Body,{children:(0,d.jsxs)("div",{children:[C&&(0,d.jsx)("label",{style:{color:"red"},children:T}),(0,d.jsxs)(a.Z,{children:[(0,d.jsxs)(a.Z.Group,{children:[(0,d.jsx)(a.Z.Label,{children:"Title"}),(0,d.jsx)(a.Z.Control,{type:"text",placeholder:"Enter title",value:h||"",onChange:function(e){f(e.target.value)}})]}),(0,d.jsxs)(a.Z.Group,{children:[(0,d.jsx)(a.Z.Label,{children:"Description"}),(0,d.jsx)(a.Z.Control,{as:"textarea",placeholder:"Enter description",value:p||"",maxLength:500,rows:6,onChange:function(e){j(e.target.value)}})]})]})]})}),(0,d.jsxs)(i.Z.Footer,{children:[(0,d.jsx)(s.Z,{variant:"secondary",onClick:e.handleClose,children:"Close"}),(0,d.jsx)(s.Z,{variant:"primary",onClick:function(n){if(!h||!p)return I("Fill all fields!"),void m(!0);var o={Authorization:"accessToken="+w.accessToken+";username="+w.username},t={title:h,description:p};"edit"==e.mode?(t.noteId=e.note._id,l.Z.put(u+"/load/note",t,{headers:o}).then((function(e){b(e)})).catch((function(e){console.log("error in notes put:",e),I("Error in Saving data!"),m(!0)}))):l.Z.post(u+"/load/note",t,{headers:o}).then((function(e){b(e)})).catch((function(e){console.log("error in /load/note:",e),I("Error in Saving data!"),m(!0)}))},style:{backgroundColor:"var(--dark-green)",borderColor:"var(--dark-green)",width:"40%"},children:"edit"==e.mode?"Update":"Add"})]})]})})}},7666:function(e,n,o){o.d(n,{Z:function(){return I}});var t=o(9439),r=o(2791),s=o(1413),i=o(5987),a=o(1694),c=o.n(a),l=o(184),d=["size","classes","color","circleColor","disableWrapper","children"],u={size:"md",color:"#267CB2",circleColor:"#DEDEDE",disableWrapper:!1},h=function(e){var n=e.size,o=e.classes,t=e.color,r=e.circleColor,a=e.disableWrapper,h=e.children,f=(0,i.Z)(e,d),x=c()("spinner",o,n&&"".concat(n)),v={};return v.borderColor=r||u.circleColor,v.borderTopColor=t||u.color,(0,l.jsxs)("div",{className:a?"":"spinner-wrapper flex-center",children:[h||!a&&(0,l.jsx)("div",{className:"empty-string",children:"\xa0"})," ",(0,l.jsx)("div",(0,s.Z)({className:x,style:v},f))]})};h.defaultProps=u;var f=h,x=o(8282),v=o(1243),p=o(6856),j=o(8458),Z=(o(8874),o(7170)),g=o(3360),C=o(2477),m=function(e){return(0,l.jsx)("div",{children:(0,l.jsxs)(C.Z,{show:!0,onHide:e.handleClose,children:[(0,l.jsx)(C.Z.Header,{closeButton:!0,children:(0,l.jsx)(C.Z.Title,{children:"Add Note"})}),(0,l.jsx)(C.Z.Body,{children:(0,l.jsx)("div",{children:(0,l.jsx)("label",{children:"Do you want to delete the note?"})})}),(0,l.jsxs)(C.Z.Footer,{children:[(0,l.jsx)(g.Z,{variant:"secondary",onClick:e.handleClose,children:"Cancel"}),(0,l.jsx)(g.Z,{variant:"primary",onClick:e.handleDelete,style:{backgroundColor:"var(--dark-green)",borderColor:"var(--dark-green)"},children:"Delete"})]})]})})},k="/api",y=[{title:"sacqw",description:"cwqcce",isFavourite:!1,username:"userOne",createdAt:"2023-11-07T08:51:58.488Z",updatedAt:"2023-11-07T08:51:58.488Z"},{title:"sacqw",description:"cwqcce",isFavourite:!1,username:"userOne",createdAt:"2023-11-07T08:52:13.138Z",updatedAt:"2023-11-07T08:52:13.138Z"}],T=function(e,n){var o=(0,r.useState)(!0),s=(0,t.Z)(o,2),i=s[0],a=s[1],c=(0,r.useState)([]),d=(0,t.Z)(c,2),u=d[0],h=d[1],g=(0,r.useContext)(j.Z),C=JSON.parse(sessionStorage.getItem("userInfo"));console.log("Stored user info:",C,typeof C),g.userInfo||g.setUserInfo(C);var T=(0,r.useState)(null),I=(0,t.Z)(T,2),w=I[0],b=I[1],S=(0,r.useState)(!1),N=(0,t.Z)(S,2),A=N[0],D=N[1],F=(0,r.useState)(!1),z=(0,t.Z)(F,2),E=z[0],B=z[1],q={};q=g.userInfo?{Authorization:"accessToken="+g.userInfo.accessToken+";username="+g.userInfo.username}:{Authorization:"accessToken=;username="},(0,r.useEffect)((function(){console.log("In useEffect body of noteslist"),H()}),[i]);var H=function(){console.log("headers:",q),v.Z.get(k+"/load/notes",{headers:q}).then((function(e){console.log("Response in getnoteslist:",e),e&&e.data&&e.data.notes?h(e.data.notes):h(y),a(!1)})).catch((function(e){console.log("/load/notes:",e),h(y),a(!1)}))};(0,r.useImperativeHandle)(n,(function(){return{getNotesList:H}}));return(0,l.jsxs)("div",{children:[i?(0,l.jsx)(f,{size:"md"}):u.length?(0,l.jsx)("div",{className:"noteListContainer",children:u.map((function(n){var o=new Date(n.createdAt),t=new Intl.DateTimeFormat("en-GB",{dateStyle:"medium"}).format(o);return n.isFavourite==e.favourites?(0,l.jsx)("div",{children:(0,l.jsxs)(x.Z,{style:{width:"15em"},children:[(0,l.jsxs)(x.Z.Body,{children:[(0,l.jsx)(x.Z.Title,{children:n.title}),(0,l.jsx)(x.Z.Text,{children:n.description})]}),(0,l.jsx)(x.Z.Footer,{children:(0,l.jsxs)("span",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[(0,l.jsx)("span",{children:t}),(0,l.jsxs)("span",{children:[(0,l.jsx)("span",{children:(0,l.jsx)(p.iqB,{size:20,style:{cursor:"pointer",color:n.isFavourite?"red":"black"},onClick:function(){!function(e){console.log("Mark as Favourite Note Invoked",e);var n={Authorization:"accessToken="+g.userInfo.accessToken+";username="+g.userInfo.username};v.Z.post(k+"/load/note/favourite",{noteId:e._id,isFavourite:!e.isFavourite},{headers:n}).then((function(e){e&&e.data&&"success"==e.data.status&&H()})).catch((function(e){console.log("error /load/note/favourite:",e),h([]),a(!1)}))}(n)}})}),(0,l.jsx)("span",{children:(0,l.jsx)(p.cqP,{size:20,style:{cursor:"pointer"},onClick:function(){!function(e){console.log("Edit Note Invoked",e),b(e),D(!0)}(n)}})}),(0,l.jsx)("span",{children:(0,l.jsx)(p.F1H,{size:20,style:{cursor:"pointer"},onClick:function(){!function(e){console.log("Delete Note Invoked",e),b(e),B(!0)}(n)}})})]})]})})]})},n._id):void 0}))}):(0,l.jsx)("div",{style:{textAlign:"center",paddingTop:120},children:(0,l.jsxs)("div",{children:["You don't have any notes!"," ",(0,l.jsx)("span",{onClick:e.handleCreateNote,style:{color:"var(--dark-green)",cursor:"pointer"},children:"Add New Note"})]})}),A&&(0,l.jsx)(Z.Z,{mode:"edit",note:w,handleClose:function(){D(!1)},onManageNoteSuccess:function(){H(),D(!1)}}),E&&(0,l.jsx)(m,{handleClose:function(){B(!1)},handleDelete:function(){!function(e){var n={Authorization:"accessToken="+g.userInfo.accessToken+";username="+g.userInfo.username};v.Z.delete(k+"/load/note/"+e._id,{headers:n}).then((function(e){e&&e.data&&"success"==e.data.status&&H()})).catch((function(e){console.log("error /load/note/:",e),h([]),a(!1)}))}(w),B(!1)}})]})},I=(0,r.forwardRef)(T)},8874:function(){}}]);
//# sourceMappingURL=986.9c3b9f32.chunk.js.map