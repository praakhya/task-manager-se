"use strict";(self.webpackChunkse_project=self.webpackChunkse_project||[]).push([[931],{3931:function(e,n,o){o.r(n);var t=o(9439),r=o(2791),s=o(7666),a=o(3360),i=o(7170),c=(o(8874),o(184));n.default=function(e){var n=(0,r.useState)(!1),o=(0,t.Z)(n,2),l=o[0],d=o[1],u=(0,r.useRef)(),h=function(){d(!0)};return(0,c.jsxs)("div",{className:"allNotesContainer",children:[(0,c.jsxs)("div",{className:"allNotesHeader",children:[(0,c.jsx)("h1",{children:"All Notes"}),(0,c.jsx)("div",{children:(0,c.jsx)(a.Z,{onClick:h,style:{backgroundColor:"var(--dark-green)",borderColor:"var(--dark-green)"},className:"addNoteButton",children:"Add New Note"})})]}),(0,c.jsx)("div",{children:(0,c.jsx)(s.Z,{handleCreateNote:h,ref:u,favourites:!1})}),l&&(0,c.jsx)(i.Z,{handleClose:function(){d(!1)},onManageNoteSuccess:function(e){u.current.getNotesList(),d(!1)}})]})}},7170:function(e,n,o){var t=o(9439),r=o(2791),s=o(3360),a=o(2477),i=o(6654),c=o(8458),l=o(1243),d=o(184),u="/api";n.Z=function(e){var n=(0,r.useState)(""),o=(0,t.Z)(n,2),h=o[0],f=o[1],x=(0,r.useState)(""),v=(0,t.Z)(x,2),j=v[0],p=v[1],Z=(0,r.useState)(!1),C=(0,t.Z)(Z,2),g=C[0],k=C[1],m=(0,r.useState)(""),y=(0,t.Z)(m,2),N=y[0],T=y[1],b=(0,r.useContext)(c.Z).userInfo;(0,r.useEffect)((function(){"edit"==e.mode&&(f(e.note.title),p(e.note.description))}),[]);var w=function(e){if(e&&e.data){if("error"==e.data.status)return console.log(g),T("Error in Saving data!"),void k(!0);k(!1)}};return(0,d.jsx)("div",{children:(0,d.jsxs)(a.Z,{show:!0,onHide:e.handleClose,children:[(0,d.jsx)(a.Z.Header,{closeButton:!0,children:(0,d.jsx)(a.Z.Title,{children:"Add Note"})}),(0,d.jsx)(a.Z.Body,{children:(0,d.jsxs)("div",{children:[g&&(0,d.jsx)("label",{style:{color:"red"},children:N}),(0,d.jsxs)(i.Z,{children:[(0,d.jsxs)(i.Z.Group,{children:[(0,d.jsx)(i.Z.Label,{children:"Title"}),(0,d.jsx)(i.Z.Control,{type:"text",placeholder:"Enter title",value:h||"",onChange:function(e){f(e.target.value)}})]}),(0,d.jsxs)(i.Z.Group,{children:[(0,d.jsx)(i.Z.Label,{children:"Description"}),(0,d.jsx)(i.Z.Control,{as:"textarea",placeholder:"Enter description",value:j||"",maxLength:500,rows:6,onChange:function(e){p(e.target.value)}})]})]})]})}),(0,d.jsxs)(a.Z.Footer,{children:[(0,d.jsx)(s.Z,{variant:"secondary",onClick:e.handleClose,children:"Close"}),(0,d.jsx)(s.Z,{variant:"primary",onClick:function(n){if(!h||!j)return T("Fill all fields!"),void k(!0);var o={Authorization:"accessToken="+b.accessToken+";username="+b.username},t={title:h,description:j};"edit"==e.mode?(t.noteId=e.note._id,l.Z.put(u+"/load/note",t,{headers:o}).then((function(e){w(e)})).catch((function(e){console.log("error in notes put:",e),T("Error in Saving data!"),k(!0)}))):l.Z.post(u+"/load/note",t,{headers:o}).then((function(e){w(e)})).catch((function(e){console.log("error in /load/note:",e),T("Error in Saving data!"),k(!0)}))},style:{backgroundColor:"var(--dark-green)",borderColor:"var(--dark-green)",width:"40%"},children:"edit"==e.mode?"Update":"Add"})]})]})})}},7666:function(e,n,o){o.d(n,{Z:function(){return T}});var t=o(9439),r=o(2791),s=o(1413),a=o(5987),i=o(1694),c=o.n(i),l=o(184),d=["size","classes","color","circleColor","disableWrapper","children"],u={size:"md",color:"#267CB2",circleColor:"#DEDEDE",disableWrapper:!1},h=function(e){var n=e.size,o=e.classes,t=e.color,r=e.circleColor,i=e.disableWrapper,h=e.children,f=(0,a.Z)(e,d),x=c()("spinner",o,n&&"".concat(n)),v={};return v.borderColor=r||u.circleColor,v.borderTopColor=t||u.color,(0,l.jsxs)("div",{className:i?"":"spinner-wrapper flex-center",children:[h||!i&&(0,l.jsx)("div",{className:"empty-string",children:"\xa0"})," ",(0,l.jsx)("div",(0,s.Z)({className:x,style:v},f))]})};h.defaultProps=u;var f=h,x=o(8282),v=o(1243),j=o(6856),p=o(8458),Z=(o(8874),o(7170)),C=o(3360),g=o(2477),k=function(e){return(0,l.jsx)("div",{children:(0,l.jsxs)(g.Z,{show:!0,onHide:e.handleClose,children:[(0,l.jsx)(g.Z.Header,{closeButton:!0,children:(0,l.jsx)(g.Z.Title,{children:"Add Note"})}),(0,l.jsx)(g.Z.Body,{children:(0,l.jsx)("div",{children:(0,l.jsx)("label",{children:"Do you want to delete the note?"})})}),(0,l.jsxs)(g.Z.Footer,{children:[(0,l.jsx)(C.Z,{variant:"secondary",onClick:e.handleClose,children:"Cancel"}),(0,l.jsx)(C.Z,{variant:"primary",onClick:e.handleDelete,style:{backgroundColor:"var(--dark-green)",borderColor:"var(--dark-green)"},children:"Delete"})]})]})})},m="/api",y=[{title:"sacqw",description:"cwqcce",isFavourite:!1,username:"userOne",createdAt:"2023-11-07T08:51:58.488Z",updatedAt:"2023-11-07T08:51:58.488Z"},{title:"sacqw",description:"cwqcce",isFavourite:!1,username:"userOne",createdAt:"2023-11-07T08:52:13.138Z",updatedAt:"2023-11-07T08:52:13.138Z"}],N=function(e,n){var o=(0,r.useState)(!0),s=(0,t.Z)(o,2),a=s[0],i=s[1],c=(0,r.useState)([]),d=(0,t.Z)(c,2),u=d[0],h=d[1],C=(0,r.useContext)(p.Z),g=JSON.parse(sessionStorage.getItem("userInfo"));console.log("Stored user info:",g,typeof g),C.userInfo||C.setUserInfo(g);var N=(0,r.useState)(null),T=(0,t.Z)(N,2),b=T[0],w=T[1],I=(0,r.useState)(!1),S=(0,t.Z)(I,2),A=S[0],F=S[1],z=(0,r.useState)(!1),D=(0,t.Z)(z,2),E=D[0],B=D[1],H={};H=C.userInfo?{Authorization:"accessToken="+C.userInfo.accessToken+";username="+C.userInfo.username}:{Authorization:"accessToken=;username="},(0,r.useEffect)((function(){console.log("In useEffect body of noteslist"),q()}),[a]);var q=function(){console.log("headers:",H),v.Z.get(m+"/load/notes",{headers:H}).then((function(e){console.log("Response in getnoteslist:",e),e&&e.data&&e.data.notes?h(e.data.notes):h(y),i(!1)})).catch((function(e){console.log("/load/notes:",e),h(y),i(!1)}))};(0,r.useImperativeHandle)(n,(function(){return{getNotesList:q}}));return(0,l.jsxs)("div",{children:[a?(0,l.jsx)(f,{size:"md"}):u.length?(0,l.jsx)("div",{className:"noteListContainer",children:u.map((function(n){var o=new Date(n.createdAt),t=new Intl.DateTimeFormat("en-GB",{dateStyle:"medium"}).format(o);return n.isFavourite==e.favourites?(0,l.jsx)("div",{children:(0,l.jsxs)(x.Z,{style:{width:"15em"},children:[(0,l.jsxs)(x.Z.Body,{children:[(0,l.jsx)(x.Z.Title,{children:n.title}),(0,l.jsx)(x.Z.Text,{children:n.description})]}),(0,l.jsx)(x.Z.Footer,{children:(0,l.jsxs)("span",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[(0,l.jsx)("span",{children:t}),(0,l.jsxs)("span",{children:[(0,l.jsx)("span",{children:(0,l.jsx)(j.iqB,{size:20,style:{cursor:"pointer",color:n.isFavourite?"red":"black"},onClick:function(){!function(e){console.log("Mark as Favourite Note Invoked",e);var n={Authorization:"accessToken="+C.userInfo.accessToken+";username="+C.userInfo.username};v.Z.post(m+"/load/note/favourite",{noteId:e._id,isFavourite:!e.isFavourite},{headers:n}).then((function(e){e&&e.data&&"success"==e.data.status&&q()})).catch((function(e){console.log("error /load/note/favourite:",e),h([]),i(!1)}))}(n)}})}),(0,l.jsx)("span",{children:(0,l.jsx)(j.cqP,{size:20,style:{cursor:"pointer"},onClick:function(){!function(e){console.log("Edit Note Invoked",e),w(e),F(!0)}(n)}})}),(0,l.jsx)("span",{children:(0,l.jsx)(j.F1H,{size:20,style:{cursor:"pointer"},onClick:function(){!function(e){console.log("Delete Note Invoked",e),w(e),B(!0)}(n)}})})]})]})})]})},n._id):void 0}))}):(0,l.jsx)("div",{style:{textAlign:"center",paddingTop:120},children:(0,l.jsxs)("div",{children:["You don't have any notes!"," ",(0,l.jsx)("span",{onClick:e.handleCreateNote,style:{color:"var(--dark-green)",cursor:"pointer"},children:"Add New Note"})]})}),A&&(0,l.jsx)(Z.Z,{mode:"edit",note:b,handleClose:function(){F(!1)},onManageNoteSuccess:function(){q(),F(!1)}}),E&&(0,l.jsx)(k,{handleClose:function(){B(!1)},handleDelete:function(){!function(e){var n={Authorization:"accessToken="+C.userInfo.accessToken+";username="+C.userInfo.username};v.Z.delete(m+"/load/note/"+e._id,{headers:n}).then((function(e){e&&e.data&&"success"==e.data.status&&q()})).catch((function(e){console.log("error /load/note/:",e),h([]),i(!1)}))}(b),B(!1)}})]})},T=(0,r.forwardRef)(N)},8874:function(){}}]);
//# sourceMappingURL=931.1282dbf4.chunk.js.map