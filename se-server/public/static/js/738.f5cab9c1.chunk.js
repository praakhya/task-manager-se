"use strict";(self.webpackChunkse_project=self.webpackChunkse_project||[]).push([[738],{1738:function(e,a,n){n.r(a);var s=n(9439),t=n(2791),r=n(3360),o=n(6654),i=n(1243),l=n(7689),c=n(8458),d=(n(3508),n(184));a.default=function(){var e=(0,t.useContext)(c.Z),a=(0,t.useState)("login"),n=(0,s.Z)(a,2),u=n[0],m=n[1],p=(0,t.useState)(""),h=(0,s.Z)(p,2),g=h[0],f=h[1],Z=(0,t.useState)(""),v=(0,s.Z)(Z,2),x=v[0],b=v[1],j=(0,t.useState)(""),y=(0,s.Z)(j,2),C=y[0],N=y[1],S=(0,t.useState)(""),k=(0,s.Z)(S,2),w=k[0],E=k[1],I=(0,t.useState)(""),P=(0,s.Z)(I,2),F=P[0],L=P[1],G=(0,t.useState)(""),R=(0,s.Z)(G,2),U=R[0],z=R[1],B=(0,t.useState)(""),A=(0,s.Z)(B,2),T=A[0],_=A[1],q=(0,t.useState)(!1),D=(0,s.Z)(q,2),J=D[0],M=D[1],O=(0,t.useState)("Please fill the fields!"),H=(0,s.Z)(O,2),K=H[0],Q=H[1],V=(0,t.useState)(!1),W=(0,s.Z)(V,2),X=W[0],Y=W[1],$=(0,t.useState)("Please fill the fields!"),ee=(0,s.Z)($,2),ae=ee[0],ne=ee[1],se=(0,l.s0)();return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("div",{className:"auth-view",children:(0,d.jsx)("div",{className:"auth-form-wrap",children:"login"==u?(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{style:{fontSize:28,marginBottom:20},children:"Sign In"}),J&&(0,d.jsx)("label",{style:{color:"red"},children:K}),(0,d.jsxs)(o.Z,{children:[(0,d.jsxs)(o.Z.Group,{className:"mb-3 inputField",children:[(0,d.jsx)(o.Z.Label,{children:"Username"}),(0,d.jsx)(o.Z.Control,{type:"text",placeholder:"Enter username",value:g||"",onChange:function(e){f(e.target.value)}})]}),(0,d.jsxs)(o.Z.Group,{className:"mb-3 inputField",children:[(0,d.jsx)(o.Z.Label,{children:"Password"}),(0,d.jsx)(o.Z.Control,{type:"password",placeholder:"Password",value:x||"",onChange:function(e){b(e.target.value)}})]}),(0,d.jsx)(r.Z,{variant:"primary",type:"button",onClick:function(a){if(console.log("lusername, lpassword",g,x),!g||!x)return Q("Please fill the required fields!"),void M(!0);M(!1),i.Z.post("/api/login",{username:g,password:x}).then((function(a){if(console.log("Repsonse in post /api/login:",a),a&&a.data){if("error"==a.data.status)return Q(a.data.message?a.data.message:"Error in login!"),void M(!0);M(!1),e.setUserInfo(a.data.userInfo),sessionStorage.setItem("userInfo",JSON.stringify(a.data.userInfo)),console.log("User info after setting in client:",e.userInfo),se("/notes")}})).catch((function(e,a){console.log("error in login client:",e),Q("Error in user login!"),M(!0)}))},style:{backgroundColor:"var(--dark-green)",borderColor:"var(--dark-green)"},className:"notesButton",children:"Submit"})]}),(0,d.jsxs)("div",{style:{marginTop:12},children:["Not yet Registered?","  ",(0,d.jsx)("span",{onClick:function(e){m("signup")},style:{cursor:"pointer"},className:"notesLink",children:"Create New Account"})]})]}):(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{style:{fontSize:28,marginBottom:20},children:"Registration"}),X&&(0,d.jsx)("label",{style:{color:"red"},children:ae}),(0,d.jsxs)(o.Z,{children:[(0,d.jsxs)(o.Z.Group,{className:"mb-3 inputField",children:[(0,d.jsx)(o.Z.Label,{children:"Name"}),(0,d.jsx)(o.Z.Control,{type:"text",placeholder:"Enter name",value:C||"",onChange:function(e){N(e.target.value)}})]}),(0,d.jsxs)(o.Z.Group,{className:"mb-3 inputField",children:[(0,d.jsx)(o.Z.Label,{children:"Email address"}),(0,d.jsx)(o.Z.Control,{type:"email",placeholder:"Enter email",value:F||"",onChange:function(e){L(e.target.value)}})]}),(0,d.jsxs)(o.Z.Group,{className:"mb-3 inputField",children:[(0,d.jsx)(o.Z.Label,{children:"Mobile Number"}),(0,d.jsx)(o.Z.Control,{type:"text",placeholder:"Enter mobile number",value:w||"",onChange:function(e){E(e.target.value)}})]}),(0,d.jsxs)(o.Z.Group,{className:"mb-3 inputField",children:[(0,d.jsx)(o.Z.Label,{children:"Username"}),(0,d.jsx)(o.Z.Control,{type:"text",placeholder:"Username",value:U||"",onChange:function(e){z(e.target.value)}})]}),(0,d.jsxs)(o.Z.Group,{className:"mb-3 inputField",children:[(0,d.jsx)(o.Z.Label,{children:"Password"}),(0,d.jsx)(o.Z.Control,{type:"password",placeholder:"Password",value:T||"",onChange:function(e){_(e.target.value)}})]}),(0,d.jsx)(r.Z,{variant:"primary",type:"button",onClick:function(a){C&&w&&F&&U&&T?(Y(!1),i.Z.post("/api/signup",{name:C,mobileNumber:w,email:F,username:U,password:T}).then((function(a){if(a&&a.data){if("error"==a.data.status)return console.log("received:",a),Q(a.data.message?a.data.message:"Error in signup!"),void M(!0);Y(!1),e.setUserInfo(a.data.userInfo),se("/home")}})).catch((function(e){console.log("error in signup:",e),ne("Error in user Registration! Please contact Admin for more Info!"),Y(!0)}))):Y(!0)},style:{backgroundColor:"var(--dark-green)",borderColor:"var(--dark-green)",width:180},children:"Submit"})]}),(0,d.jsxs)("span",{children:["Already Registered?",(0,d.jsx)(r.Z,{variant:"link",type:"button",style:{textDecoration:"none",color:"var(--sage)"},onClick:function(e){m("login")},children:"Login"})]})]})})})})}},3360:function(e,a,n){var s=n(1413),t=n(9439),r=n(5987),o=n(1694),i=n.n(o),l=n(2791),c=n(5341),d=n(162),u=n(184),m=["as","bsPrefix","variant","size","active","disabled","className"],p=l.forwardRef((function(e,a){var n=e.as,o=e.bsPrefix,l=e.variant,p=void 0===l?"primary":l,h=e.size,g=e.active,f=void 0!==g&&g,Z=e.disabled,v=void 0!==Z&&Z,x=e.className,b=(0,r.Z)(e,m),j=(0,d.vE)(o,"btn"),y=(0,c.FT)((0,s.Z)({tagName:n,disabled:v},b)),C=(0,t.Z)(y,2),N=C[0],S=C[1].tagName;return(0,u.jsx)(S,(0,s.Z)((0,s.Z)((0,s.Z)({},N),b),{},{ref:a,disabled:v,className:i()(x,j,f&&"active",p&&"".concat(j,"-").concat(p),h&&"".concat(j,"-").concat(h),b.href&&v&&"disabled")}))}));p.displayName="Button",a.Z=p}}]);
//# sourceMappingURL=738.f5cab9c1.chunk.js.map